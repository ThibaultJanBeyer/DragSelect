"use strict";(self.webpackChunkdrag_select_docs=self.webpackChunkdrag_select_docs||[]).push([[625],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>p});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),g=u(n),p=a,m=g["".concat(l,".").concat(p)]||g[p]||d[p]||o;return n?r.createElement(m,i(i({ref:t},c),{},{components:n})):r.createElement(m,i({ref:t},c))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},7109:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=n(7462),a=(n(7294),n(3905));const o={sidebar_position:10},i="Custom Drag and Drop",s={unversionedId:"guided-examples/CustomDnD",id:"guided-examples/CustomDnD",title:"Custom Drag and Drop",description:"Note: this functionality is still a work in progress. If you find what you want to do is not working, please give your use-case and feedback in the Discussions section and we\u2019ll try to support it.",source:"@site/docs/guided-examples/CustomDnD.mdx",sourceDirName:"guided-examples",slug:"/guided-examples/CustomDnD",permalink:"/docs/guided-examples/CustomDnD",draft:!1,editUrl:"https://github.com/ThibaultJanBeyer/DragSelect/docs/guided-examples/CustomDnD.mdx",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"React",permalink:"/docs/guided-examples/React"},next:{title:"API",permalink:"/docs/category/api"}},l={},u=[{value:"Using <code>.stop()</code>",id:"using-stop",level:2},{value:"Using <code>.break()</code>",id:"using-break",level:2}],c={toc:u};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"custom-drag-and-drop"},"Custom Drag and Drop"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Note: this functionality is still a work in progress. If you find what you want to do is not working, please give your use-case and feedback in the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ThibaultJanBeyer/DragSelect/discussions"},"Discussions")," section and we\u2019ll try to support it.")),(0,a.kt)("p",null,"DragSelect comes with a build-in Drag and Drop functionality. However, the ideal is to be as extensible as possible. So the usage of other libraries in combination with DragSelect is definitively welcome! There is multiple ways to achieve this:"),(0,a.kt)("h2",{id:"using-stop"},"Using ",(0,a.kt)("inlineCode",{parentName:"h2"},".stop()")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// 1. Setup DragSelect:\nconst ds = new DragSelect({ \n  // if your library can not handle keyboard dragging\n  keyboardDragSpeed: 0, \n  keyboardDrag: false,\n  // \u2026your other settings\u2026\n})\n\n// 2. Setup the other library. Here we call it MyCustomDrag\nconst myCustomDrag = new MyCustomDrag({/* \u2026your settings\u2026 */})\n\n// 3. Stop DragSelect dragging\nds.subscribe('predragstart', ({ items, isDragging, isDraggingKeyboard }) => {\n  if(isDragging) {\n    ds.stop(false, false)\n    // if anything is necessary in MyCustomDrag, here is the place\n    myCustomDrag.start(items)\n  }\n})\n\n// 4. ReStart DragSelect when the other library is done dragging\nmyCustomDrag.subscribe('finished', () => ds.start())\n")),(0,a.kt)("p",null,"If your library has no callback you could try to disable, then re-enable directly:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"ds.subscribe('predragstart', ({ isDragging, isDraggingKeyboard }) => {\n   if(isDragging) {\n     ds.stop(false, false)\n     setTimeout(ds.start)\n   }\n})\n")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Note: it is important to debounce (i.e. with ",(0,a.kt)("inlineCode",{parentName:"em"},"setTimeout(ds.start)"),") the start function if it's called within a single subscriber so that all the scheduled callbacks finish triggering before we start again.")),(0,a.kt)("h2",{id:"using-break"},"Using ",(0,a.kt)("inlineCode",{parentName:"h2"},".break()")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"/!\\ only use break when you know what you're doing")),(0,a.kt)("p",null,"In case you want to build something completely custom on top of DragSelect, we got you covered! You can use ",(0,a.kt)("inlineCode",{parentName:"p"},".break")," for this.  "),(0,a.kt)("p",null,"This utility to override DragSelects internal functionality allowing you to write it all yourself: You can write your own drag and drop, if you want, you can even write your own selection:  "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"ds.subscribe('predragmove', ({ isDragging, isDraggingKeyboard }) => {\n  if(isDragging || isDraggingKeyboard) {\n    ds.break()\n    /* your custom logic for drag handling here. */\n  } else {\n    ds.break()\n    /* your custom logic for selection handling here. */\n  }\n}\n")))}d.isMDXComponent=!0}}]);